<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Secret</title>
</head>
<body>
  <input type="password" id="userInput" placeholder="Type here...">
  <label>
    <input type="checkbox" id="rememberMe"> Remember me
  </label>
  <button onclick="checkInput()">Check</button>
  <p id="result"></p>

  <script>
    // Helper functions for cookies
    function setCookie(name, value, days) {
      const d = new Date();
      d.setTime(d.getTime() + (days*24*60*60*1000));
      const expires = "expires=" + d.toUTCString();
      document.cookie = name + "=" + encodeURIComponent(value) + ";" + expires + ";path=/";
    }

    function getCookie(name) {
      const decodedCookie = decodeURIComponent(document.cookie);
      const cookies = decodedCookie.split(';');
      name = name + "=";
      for (let c of cookies) {
        c = c.trim();
        if (c.indexOf(name) === 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }

    // Check button logic
    function checkInput() {
      const input = document.getElementById("userInput").value;
      const result = document.getElementById("result");
      const rememberMe = document.getElementById("rememberMe").checked;

      if (input === "StayingSane") {
        result.textContent = "✅ Correct! Input matches 'StayingSane'.";
        if (rememberMe) {
          setCookie("savedInput", input, 7); // save for 7 days
          window.location.href = "secret_links.html"; // redirect right away
        }
      } else {
        result.textContent = "❌ Incorrect. Try again.";
      }
    }

    // On page load, check if cookie exists
    window.onload = function() {
      const savedInput = getCookie("savedInput");
      if (savedInput) {
        // If cookie is present, go straight to secret page
        window.location.href = "secret_links.html";
      }
    }
  </script>
</body>
</html>
